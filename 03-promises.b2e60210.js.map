{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAAO,CACXC,UAAWC,SAASC,iBAAiB,SACrCC,UAAWF,SAASC,iBAAiB,SACrCE,OAAQH,SAASI,cAAc,UAC/BC,QAASL,SAASI,cAAc,SAGlC,IAAIE,EAAW,GAOf,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACLN,EACFI,EAAQ,C,SAAEN,E,MAAUC,IAEpBM,EAAO,C,SAAEP,E,MAAUC,GAAQ,GAE5BA,EAAM,G,CAYb,SAASQ,GAAUT,SAAEA,EAAQC,MAAEA,IAC7Bb,EAAAsB,OAAOC,QAAQ,uBAAqBX,QAAiBC,M,CAGvD,SAASW,GAAQZ,SAAEA,EAAQC,MAAEA,IAC3Bb,EAAAsB,OAAOG,QAAQ,sBAAoBb,QAAeC,M,EC5CrC,SAAyBa,GAEtC,MAAMC,EAASD,EAAKvB,UACpByB,MAAMC,KAAKF,GAAQG,KAAIC,IACrBA,EAAKC,MAAMC,QAAU,cACrBF,EAAKC,MAAME,cAAgB,SAC3BH,EAAKC,MAAMG,YAAc,MAAM,IAIjC,MAAMC,EAASV,EAAKpB,UACpBsB,MAAMC,KAAKO,GAAQN,KAAIC,IACrBA,EAAKC,MAAMK,QAAU,KAAK,IAI5BX,EAAKnB,OAAOyB,MAAMK,QAAU,OAG5BX,EAAKjB,QAAQuB,MAAMC,QAAU,OAC7BP,EAAKjB,QAAQuB,MAAMM,WAAa,K,CDRlC,CAAgBpC,GAEhBA,EAAKO,QAAQ8B,iBAAiB,UAwC9B,SAAoBC,GAClBA,EAAEC,iBAPFvC,EAAKK,OAAOmC,aAAa,WAAY,YASrC,MAAM7B,MAAEA,EAAK8B,OAAEA,EAAMC,KAAEA,GAASlC,EAChC,IAAK,IAAImC,EAAI,EAAGA,EAAIF,EAAQE,GAAK,EAAG,CAClCC,QAAQC,IAAIF,GAEZlC,EAAckC,EAAI,EADGD,EAAOC,EAAIhC,GAE7BmC,KAAK3B,GACL4B,MAAMzB,E,KAhDbtB,EAAKO,QAAQ8B,iBAAiB,SAgB9B,SAAsBC,GACpB9B,EAASG,MAAQqC,OAAOV,EAAEW,cAAcC,SAASvC,MAAMwC,OACvD3C,EAASkC,KAAOM,OAAOV,EAAEW,cAAcC,SAASR,KAAKS,OACrD3C,EAASiC,OAASO,OAAOV,EAAEW,cAAcC,SAAST,OAAOU,OAiBzDnD,EAAKK,OAAO+C,gBAAgB,W","sources":["src/js/03-promises.js","src/js/functions/task-3/interface.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport interfaceStyles from './functions/task-3/interface';\n\nconst refs = {\n  labelRefs: document.querySelectorAll('label'),\n  inputRefs: document.querySelectorAll('input'),\n  btnRef: document.querySelector('button'),\n  formRef: document.querySelector('form'),\n};\n\nlet formData = {};\n\ninterfaceStyles(refs);\n\nrefs.formRef.addEventListener('submit', onBtnClick);\nrefs.formRef.addEventListener('input', onInputValue);\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction onInputValue(e) {\n  formData.delay = Number(e.currentTarget.elements.delay.value);\n  formData.step = Number(e.currentTarget.elements.step.value);\n  formData.amount = Number(e.currentTarget.elements.amount.value);\n\n  anableBtn();\n}\n\nfunction onSuccess({ position, delay }) {\n  Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\n\nfunction onError({ position, delay }) {\n  Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n\nfunction disableBtn() {\n  refs.btnRef.setAttribute('disabled', 'disabled');\n}\nfunction anableBtn() {\n  refs.btnRef.removeAttribute('disabled');\n}\n\nfunction onBtnClick(e) {\n  e.preventDefault();\n  disableBtn();\n  const { delay, amount, step } = formData;\n  for (let i = 0; i < amount; i += 1) {\n    console.log(i);\n    const PromiceDelay = step * i + delay;\n    createPromise(i + 1, PromiceDelay)\n      .then(onSuccess)\n      .catch(onError);\n  }\n}\n","export default function interfaceStyles(refs) {\n  // lables\n  const lables = refs.labelRefs;\n  Array.from(lables).map(item => {\n    item.style.display = 'inline-flex';\n    item.style.flexDirection = 'column';\n    item.style.marginRight = '10px';\n  });\n\n  // inputs\n  const inputs = refs.inputRefs;\n  Array.from(inputs).map(item => {\n    item.style.padding = '5px';\n  });\n\n  // btn\n  refs.btnRef.style.padding = '10px';\n\n  // form\n  refs.formRef.style.display = 'flex';\n  refs.formRef.style.alignItems = 'end';\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","labelRefs","document","querySelectorAll","inputRefs","btnRef","querySelector","formRef","$47d4ff9957288465$var$formData","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$47d4ff9957288465$var$onSuccess","Notify","success","$47d4ff9957288465$var$onError","failure","refs","lables","Array","from","map","item","style","display","flexDirection","marginRight","inputs","padding","alignItems","addEventListener","e","preventDefault","setAttribute","amount","step","i","console","log","then","catch","Number","currentTarget","elements","value","removeAttribute"],"version":3,"file":"03-promises.b2e60210.js.map"}